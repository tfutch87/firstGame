<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Adding 2 Numbers | Let's Do Addition Together </title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>

<body onload="playGame()">


    <div>
        <h1>Adding Game</h1>

        <p id="demo"></p>
    </div>
    <hr>

    <div class="quiz">

        <div class="quiz-content">

            <!-- question start -->

            <div class="question">
                What is the SUM of
                <span class="text-info" id="field1">5</span> and
                <span class="text-info" id="field2"> 5 </span>
            </div>

            <!-- options for answers start -->
            <div class="options">
                <div class="fields">
                    <div class="field-block" id="option1" onclick="checkAnswer(this)">

                        10
                    </div>
                </div>
                <div class="fields">
                    <div class="field-block" id="option2" onclick="checkAnswer(this)">
                        10
                    </div>
                </div>
                <div class="fields">
                    <div class="field-block" id="option3" onclick="checkAnswer(this)">
                        10
                    </div>
                </div>
                <div class="fields">
                    <div class="field-block" id="option4" onclick="checkAnswer(this)">
                        10
                    </div>

                </div>
            </div>

            <!-- End -->
        </div>
        <div class="after hide" id="after">

        </div>
        <div class="play-again">
            <a class="button">Play Again</a>
        </div>
    </div>

    <script>

        // ridldle declared an Object

        var riddle = {};

        // function for random number

        function randomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);

        }

        // function for random numbers inside question

        function playGame() {

            var field1 = randomNumber(20, 50);
            var field2 = randomNumber(20, 50);
            var result = field1 + field2;

            var resultsArray = generateRandomOptions(result);
            resultsArray.push(result);
            resultsArray.sort(function (a, b) { return 0.5 - Math.random() });


            riddle = {
                field1: field1,
                field2: field2,
                resultsArray: resultsArray,
                answer: result
            };

            // updated element using JS 
            document.getElementById("field1").innerHTML = riddle.field1;
            document.getElementById("field2").innerHTML = riddle.field2;
            document.getElementById("option1").innerHTML = riddle.resultsArray[0];
            document.getElementById("option2").innerHTML = riddle.resultsArray[1];
            document.getElementById("option3").innerHTML = riddle.resultsArray[2];
            document.getElementById("option4").innerHTML = riddle.resultsArray[3];

            // console.log(field1, field1);
        }

        function generateRandomOptions(sum) {
            var resultsArray = [];
            var randomNumberArray = [];


            while (randomNumberArray.length < 3) {
                var random = randomNumber(1, 10);
                if (randomNumberArray.indexOf(random) > -1) continue;
                randomNumberArray.push(random);

            }

            //        console.log(randomNumberArray, addSubstract);

            for (var i = 0; i < 3; i++) {
                var addSubstract = randomNumber(0, 1);
                var result = sum;
                // console.log(addSubstract);

                if (addSubstract === 1) {

                    // add random number to the result
                    result += randomNumberArray[i];
                } else {

                    // substract random number from result
                    result -= randomNumberArray[i];
                }
                resultsArray.push(result);
            }

            // console.log(resultsArray);

            return resultsArray;


        }

        function checkAnswer(selectedElement) {
            console.log(selectedElement.innerHTML);
            console.log(riddle);
            var after = document.getElementById('after');

            if (selectedElement.innerHTML == riddle.answer) {
                // display correct answer

                after.classList.remove("hide");
                after.classList.add("correct");
                after.innerHTML = "You got it Correct, Great Job! Select the button below to Play Again";

            } else {

                // not the correct answer
                after.classList.add("wrong");
                after.classList.remove("hide");
                after.innerHTML = "Sorry you've select the wrong answer! Select the button below to Play Again";

            }

        }

    </script>

</body>

</html>